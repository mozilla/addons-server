name: Release

on:
  release:
    types: [
      # Deploy staging
      created,
      edited,
      prereleased,
      # Deploy rollback
      deleted,
      unpublished,
      # Deploy prodcution
      published
    ]
  # Deploy dev
  workflow_dispatch:
    inputs:
      version:
        description: "The docker image version to release, defaults to latest"
        required: true
        default: "latest"

jobs:
  context:
    runs-on: ubuntu-latest

    steps:
      - name: Log (github)
        shell: bash
        run: |
          cat <<EOF
          ${{toJson(github)}}
      - name: Log (inputs)
        shell: bash
        run: |
          cat <<EOF
          ${{toJson(inputs)}}
