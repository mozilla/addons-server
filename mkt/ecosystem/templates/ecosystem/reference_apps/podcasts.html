{% extends 'ecosystem/reference_apps/app.html' %}
{% from "ecosystem/macros.html" import navigation,
        third_party_lib, web_api with context %}

{% block title %}
  {{ hub_page_title() }} | {{ _('Podcasts') }}
{% endblock %}

{% block reference_title %}{{ _('Podcasts') }}{% endblock %}

{% block screenshots %}
  <img class="current-screenshot"
       src="{{ media('img/ecosystem/reference-apps/podcasts1.jpg') }}">
  <ul id="screenshots">
    <li>
      <img src="{{ media('img/ecosystem/reference-apps/podcasts1.jpg') }}"
           title="{{ _('Podcast Listing') }}"
           alt="{{ _('Podcast Listing') }}">
    </li>
    <li>
      <img src="{{ media('img/ecosystem/reference-apps/podcasts2.jpg') }}"
           title="{{ _('Top Podcasts') }}"
           alt="{{ _('Top Podcasts') }}">
    </li>
    <li>
      <img src="{{ media('img/ecosystem/reference-apps/podcasts3.jpg') }}"
           title="{{ _('Search Results') }}"
           alt="{{ _('Search Results') }}">
    </li>
  </ul>
{% endblock %}

{% block app_description %}
  <section>
    {% trans walkthrough_link='https://github.com/mozilla/high-fidelity/blob/master/making-of.md' %}
      Podcasts is an offline-capable, entirely HTML5/JS audio app.
      It's chiefly designed for Firefox OS, but support for other platforms
      and browsers is an eventual design goal. It allows users to subscribe
      to any podcast and listen to it right from their Firefox OS device!
      <a href="{{ walkthrough_link }}"
         class="walkthrough">Read the full developer walkthrough</a>
    {% endtrans %}
  </section>
{% endblock %}

{% block app_folder_structure %}
  <section>
    <h2>{{ _('Folder Structure') }}</h2>

    <pre>
  - <a href="https://github.com/mozilla/high-fidelity/tree/master/locales">locales/</a> ({{ _('Translation files') }})
  - <a href="https://github.com/mozilla/high-fidelity/tree/master/test">test/</a> (<a href="https://developer.mozilla.org/en-US/docs/Marionette">Marionette</a> {{ _('integration and UI tests') }})
  - <a href="https://github.com/mozilla/high-fidelity/tree/master/www">www/</a> ({{ _('client-side code/styles') }})
  - <a href="https://github.com/mozilla/high-fidelity/tree/master/www/index.html">www/index.html</a> ({{ _('base HTML file') }})
  - <a href="https://github.com/mozilla/high-fidelity/tree/master/www/js/templates">www/gaia/</a> (<a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox_OS/Platform/Gaia">Gaia</a> {{ _('UI files') }})
  - <a href="https://github.com/mozilla/high-fidelity/tree/master/www/js/templates">www/js/templates/</a> ({{ _('EJS/HTML templates') }})</pre>

    <p>
      {%- trans packaged_apps_link='https://developer.mozilla.org/en-US/docs/Web/Apps/Packaged_apps',
                simulator_link='https://developer.mozilla.org/en-US/docs/Tools/Firefox_OS_Simulator' %}
        Podcasts is a <a href="{{ packaged_apps_link }}">packaged app</a>,
        so it requires a build step to be installed to Firefox OS. The
        <code>Makefile</code> contains a multi-step process that will create a
        <code>www-built</code> folder used to install the app on a phone or
        the <a href="{{ simulator_link }}">Firefox OS Simulator</a>.
      {% endtrans -%}
    </p>
  </section>
{% endblock %}

{% block app_web_apis %}
  <section>
    <h2>{{ _('Web API Usage') }}</h2>
    <ul>
      <li>
        {{ web_api('localstorage') }}
        <p>
          {%- trans %}
            Used to store settings and basic podcast metadata. Not used for
            podcast audio files or cover art.
          {% endtrans %}
        </p>
      </li>
      <li>
        {{ web_api('indexed_db') }}
        <p>
          {% trans %}
            An asynchronous and fast datastore for maintaining podcast audio
            and images.
          {% endtrans %}
        </p>
      </li>
      <li>
        {{ web_api('systemxhr') }}
        <p>
          {% trans %}
            Allows cross-domain requests on Firefox OS without CORS.
          {% endtrans %}
        </p>
      </li>
    </ul>
  </section>
{% endblock %}

{% block app_third_party %}
  <section>
    <h2>{{ _('Third-party Libraries') }}</h2>
    <ul>
      <li>
        {{ third_party_lib('zepto') }}
        <p>
          {% trans %}
            The lightweight jQuery-like library simplifies common tasks such
            as DOM manipulation.
          {% endtrans %}
        </p>
      </li>
      <li>
        {{ third_party_lib('backbone') }}
        <p>
          {% trans %}
            Backbone lets us do data-binding and MVC-style coding, making
            the app a lot easier to develop.
          {% endtrans %}
        </p>
      </li>
    </ul>
  </section>
{% endblock %}

{% block app_code %}
  <a href="https://github.com/mozilla/high-fidelity"
     class="app-source button">{{ _('View Source') }}</a>
  <a href="https://github.com/mozilla/high-fidelity/archive/master.zip"
     class="app-source button">{{ _('Download') }}</a>
{% endblock %}

{% block app_summary %}
  <div class="summary">
    {# L10N: This is the difficulty level of the app. #}
    <h4>{{ _('Difficulty:') }} <span>{{ _('Advanced') }}</span></h4>
  </div>
  <div class="summary">
    <h4>{{ _('Code Breakdown') }}:</h4>
    <ol>
      <li>{{ _('4%') }} HTML/EJS</li>
      <li>{{ _('6%') }} CSS</li>
      <li>{{ _('90%') }} JavaScript</li>
    </ol>
  </div>
{% endblock %}
