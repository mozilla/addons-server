{% extends "stats/stats.html" %}

{% block csvtable %}{% endblock %}

{% block stats %}
    <section class="island two-up">
      <div>
        <a href="downloads/">
        {% if waffle.flag('bigquery-download-stats') %}
          {{ _('<b>{0}</b> Weekly Downloads')|format_html(addon.weekly_downloads|numberfmt) }}
        {% else %}
          {{ _('<b>{0}</b> Downloads')|format_html(addon.total_downloads|numberfmt) }}
        {% endif %}
        </a>
        <small id="downloads-in-range">{{ _('Loading...') }}</small>
      </div>
      <div>
        <a href="usage/">{{ _('<b>{0}</b> Average Daily Users')|format_html(addon.average_daily_users|numberfmt) }}</a>
        <small id="users-in-range">{{ _('Loading...') }}</small>
      </div>
    </section>
    <div class="toplists">
      <div class="toplist">
        <div class="island statbox">
          <h2>{{ _('Top Applications') }}</h3>
          <div class="piechart"></div>
          <table data-metric="apps">
          </table>
          <a class="more" href="usage/applications/">{{ _('See more applications&hellip;') }}</a>
          <div class="no-data-overlay">
            <p>{{ _('No data available.') }}</p>
          </div>
        </div>
      </div>
      <div class="toplist">
        <div class="island statbox">
          <h2>{{ _('Top Languages') }}</h3>
          <div class="piechart"></div>
          <table data-metric="locales">
          </table>
          <a class="more" href="usage/languages/">{{ _('See more languages&hellip;') }}</a>
          <div class="no-data-overlay">
            <p>{{ _('No data available.') }}</p>
          </div>
        </div>
      </div>
      <div class="toplist">
        <div class='island statbox'>
          <h2>{{ _('Top Platforms') }}</h3>
          <div class="piechart"></div>
          <table data-metric="os">
          </table>
          <a class="more" href="usage/os/">{{ _('See more platforms&hellip;') }}</a>
          <div class="no-data-overlay">
            <p>{{ _('No data available.') }}</p>
          </div>
        </div>
      </div>
    </div>
{% endblock %}
